<!doctype html>
<html lang="en">
	<head>
	<meta name="viewport" content="width=device-width,initial-scale=1">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script> 
	
    	<title>SignUp</title>
	<style>
	.form_bg 
	{
    	background-color:silver;
    	color:Black;
    	padding:20px;
    	border-radius:10px;
    	position: absolute;
    	border:1px solid #fff;
	    margin: auto;
    	top: 0;
    	right: 0;
    	bottom: 0;
    	left: 0;
    	width: 320px;
    	height: 330px;
	}
	.align-center
	{
    	text-align:center;
	}
	</style>
    <script type="text/javascript">
        
        obj =
    {
            xhr: new XMLHttpRequest(),
            init:function(){
                //window.localStorage.setItem("user", "");
            },
            register:function(){
                name1 = document.getElementById("Name").value;
                //uname = document.getElementById("userid").value;
                pword = document.getElementById("pwd").value;
                cpword = document.getElementById("cpwd").value;
                
                if(name1==""||pword==""||cpword=="")
                {
                    alert("Empty fields");
                }
                else
                {
                    if(pword!=cpword)
                    {
                        alert("Passwords do not match");
                    }
                    else
                    {
                        
                        obj.xhr.onreadystatechange = obj.verify;
                        obj.xhr.open("POST", "http://127.0.0.1/Project/register.php", false);
                        
                        obj.xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                        obj.xhr.send("username="+name1+"&password="+pword);

                    }
                }
            },
        verify: function()
        {
            //alert(obj.xhr.status);
            //alert("inside verify");
            if(obj.xhr.readyState == 4 && obj.xhr.status == 200)
            {
                if(this.responseText == 1)
                {
                    //window.alert("hi");
                    //alert("Successful");
					window.location = "http://127.0.0.1/Project/index.html";
					alert("Successful");
                }
                else
                {
                               
                    alert("Failed");
                }
            }
            
        }
    }
    </script> 
	</head>
	

	<body background="ecg-gif-2.gif">
    	
	<div class="container">
        <div class="row">
            <div class="form_bg">
                <form>
                    <h2 color= "Red"class="text-center">Sign Up</h2>
                    
                    <div class="form-group">
                        <input type="text" class="form-control" id="Name" placeholder="Name">
                    </div>
	            
                    <div class="form-group">
                        <input type="password" class="form-control" id="pwd" placeholder="Password">
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="cpwd" placeholder="Confirm Password">
                    </div>
                    <div class="align-center">
                        <button type="submit" class="btn btn-primary" id="signup" onclick="obj.register()">SignUp</button>
		    </br>
			
                    </div>
		    </br>
                </form>
            </div>
        </div>
    </div> 
  </body>
</html>
